import { Meta, Description, Story, Canvas, ArgsTable } from '@storybook/addon-docs/blocks';
import RplAccordionTable from './AccordionTable.vue'
import RplMoreInfo from './MoreInfo.vue'
const moreInfoData = {
  symbol: 'search',
  color: 'primary',
  size: "m",
  text: 'Search',
  placement: 'after'
}

<Meta title="Molecules/DataTable/AccordionTable" />

# DataTable

Follows pattern from https://fuschia-stretch.glitch.me for accessible row expanding

<Description of={RplAccordionTable} />

export const TemplateAccordionTable = (args, { argTypes }) => ({
  props: Object.keys(argTypes),
  components: { RplAccordionTable, RplMoreInfo },
  template: `
    <rpl-accordion-table
      is-row-oriented
      v-bind="$props"
    >
      <template v-slot:hiddenContentCell="hiddenContentProps" >
        <rpl-more-info v-bind="hiddenContentProps.coldata" />
      </template>
    </rpl-accordion-table>
  `
});

## With custom moreinfo component

<Canvas>
  <Story
    name="Example"
    args={{
      expandable: true,
      columns: [
        'Suburb',
        'Location',
        'Bookings',
        'Walk ins',
        'Est. wait time',
        ''
      ],
      isFirstRowHeader: true,
      isFirstColHeader: true,      
      items: [
        ['Coburg', 'Mercure Hotel and Convention Centre', 'Bookings accepted for all ages', 'Walk ins accepted for all ages', 'Est. wait time', 
          [
            [
              {
                items: [
                  {
                    heading: 'Open for bookings',
                    icon: 'search',
                    content: `
                      Monday – Friday 8am-7:30pm
                      Saturday – Sunday 9am-3:30pm`
                  },
                  {
                    heading: 'Open for walkins',
                    icon: 'arrow_down_primary',
                    content: `
                      Monday – Friday 8am-7:30pm
                      Saturday – Sunday 9am-3:30pm`
                  },
                  {
                    heading: 'Getting there',
                    icon: 'arrow_down_primary',
                    content: `
                      613 Main Road, Golden Point, Ballarat Enter the car park from Burdeu Street (at 525 Main Road) and follow signage to the clinic.Parking is also available at Zagames (639 Main Rd, Golden Point VIC 3350).
                    `
                  }
                ]
              }
            ]
          ]
        ],
        ['Coburg', 'Mercure Hotel and Convention Centre', 'Bookings accepted for all ages', 'Walk ins accepted for all ages', 'Est. wait time'],
        ['Coburg', 'Mercure Hotel and Convention Centre', 'Bookings accepted for all ages', 'Walk ins accepted for all ages', 'Est. wait time'],
        ['Coburg', 'Mercure Hotel and Convention Centre', 'Bookings accepted for all ages', 'Walk ins accepted for all ages', 'Est. wait time'],
      ]
    }}
  >
    {TemplateAccordionTable.bind({})}
  </Story>
</Canvas>
